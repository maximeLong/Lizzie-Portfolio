webpackJsonp([2,0],{0:function(t,e,n){n(476),t.exports=n(101)},14:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(157),o=n(155),r=n(147),s=n(449),a=n(138),u=n(148),c=n(65),d=new URL(window.location.origin);d.port="3030";var l=s(d.href),f=i().configure(r()).configure(o(l)).configure(a({storage:window.localStorage})).configure(u(c,{listStrategy:"smart",idField:"_id"})),v=e.server=f,p=e.views=v.service("views");e.user=v.service("users"),e.viewStream=p.find();e.default=f},37:function(t,e,n){var i,o;n(135),i=n(106);var r=n(470);o=i=i||{},"object"!=typeof i.default&&"function"!=typeof i.default||(o=i=i.default),"function"==typeof o&&(o=o.options),o.render=r.render,o.staticRenderFns=r.staticRenderFns,t.exports=i},101:function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}var o=n(473),r=i(o),s=n(97),a=i(s),u=n(454),c=i(u),d=n(96),l=i(d),f=n(474),v=n(14);i(v);r.default.use(a.default),r.default.use(l.default);var p=n(118),h=n(115);(0,f.sync)(p,h),new r.default({el:"#app",template:"<App/>",store:p,router:h,components:{App:c.default}})},105:function(t,e,n){t.exports={name:"app",components:{InfoPanel:n(456),SignUpPanel:n(458),SigninModal:n(459)},computed:{signin:function(){return this.$store.state.signin}},methods:{setSignin:function(){return this.$store.commit("SET_SIGNIN",!0)}}}},106:function(t,e,n){var i,o;o=n(168),i=n(61),t.exports={name:"editorContent",props:{editMode:Boolean,view:Object,activeLanguage:String},computed:{body:function(){var t;if(i.isEmpty(this.view)===!1)return null!=(t=this.view)?t[this.activeLanguage].body:void 0},interpretMarkdown:function(){if(this.body)return o(this.body,{sanitize:!0})}},methods:{updateView:i.debounce(function(t){return this.$store.dispatch("updateView",[this.view,t.target.value])},2e3)}}},107:function(t,e){t.exports={name:"headerPanel",computed:{views:function(){return this.$store.state.views},languages:function(){return this.$store.state.languages},currentView:function(){return this.$store.state.currentView},activeLanguage:function(){return this.$store.state.activeLanguage}},methods:{changeCurrentView:function(t){return this.$router.push(t)},buttonIsActive:function(t){return this.$store.state.route.path.slice(1)===t},changeActiveLang:function(t){return this.$store.commit("SET_ACTIVE_LANGUAGE",t)}}}},108:function(t,e,n){var i;i="src/db".views,t.exports={name:"infoPanel",components:{MapRolly:n(457),HeaderPanel:n(455)},computed:{rotateAmount:function(){var t,e,n,i,o,r;for(t=0,o=this.views,e=n=0,i=o.length;n<i;e=++n)r=o[e],r.title===this.$store.state.route.path.slice(1)&&(t=e);return t*this.titleSize},rotateString:function(){return"translate3d(0, -"+this.rotateAmount+"px, 0)"},userExists:function(){return"stranger"!==this.userName},viewTitles:function(){return this.views.map(function(t){return function(e){var n;return null!=(n=e[t.activeLanguage])?n.title:void 0}}(this))},userName:function(){return this.$store.state.currentUser.username},views:function(){return this.$store.state.views},currentView:function(){return this.$store.state.currentView},activeLanguage:function(){return this.$store.state.activeLanguage},editMode:function(){return this.$store.state.editMode}},methods:{changeCurrentView:function(t){return this.$router.push(t)},buttonIsActive:function(t){return this.$store.state.route.path.slice(1)===t},toggleEditMode:function(){return this.$store.commit("SET_EDIT_MODE",!this.editMode)}},data:function(){return{titleSize:50}}}},109:function(t,e,n){var i;i=n(14).views,t.exports={name:"mapRolly",data:function(){return{title:"view title",sort:0}},methods:{setViews:function(){var t;return i.create({title:this.title,sort:this.sort,english:{title:"english title",body:"english body"},spanish:{title:"spanish title",body:"spanish body"},italian:{title:"italian title",body:"italian body"}}),t=["","","",""],this.title=t[0],this.eng=t[1],this.span=t[2],this.ital=t[3],t}}}},110:function(t,e,n){t.exports={name:"signUpPanel",components:{EditorContent:n(37)},computed:{aboutView:function(){return this.$store.state.about},activeLanguage:function(){return this.$store.state.activeLanguage},editMode:function(){return this.$store.state.editMode}}}},111:function(t,e,n){var i,o,r;i=n(14),r=i.user,o=i.server,t.exports={name:"signinModal",data:function(){return{credentials:{email:"",password:""}}},computed:{userName:function(){return this.$store.state.currentUser.username},userExists:function(){return"stranger"!==this.userName}},methods:{close:function(){return this.$store.commit("SET_SIGNIN",!1)},logout:function(){return this.$store.dispatch("logout")},login:function(){return this.$store.dispatch("login",this.credentials),setTimeout(function(t){return function(){return t.close()}}(this),1500)}}}},112:function(t,e,n){var i;i=n(14).views,t.exports={name:"contact",components:{EditorContent:n(37)},computed:{contactView:function(){return this.$store.state.views[2]},activeLanguage:function(){return this.$store.state.activeLanguage},editMode:function(){return this.$store.state.editMode}}}},113:function(t,e,n){var i;i=n(14).views,t.exports={name:"cv",components:{EditorContent:n(37)},computed:{cvView:function(){return this.$store.state.views[1]},activeLanguage:function(){return this.$store.state.activeLanguage},editMode:function(){return this.$store.state.editMode}}}},114:function(t,e,n){var i;i=n(14).views,t.exports={name:"publications",components:{EditorContent:n(37)},computed:{publicationView:function(){return this.$store.state.views[0]},activeLanguage:function(){return this.$store.state.activeLanguage},editMode:function(){return this.$store.state.editMode}}}},115:function(t,e,n){var i,o,r,s;s=n(96),r=n(462),o=n(461),i=n(460),t.exports=new s({mode:"history",routes:[{path:"/publications",component:r},{path:"/cv",component:o},{path:"/contact",component:i},{path:"/",redirect:"Publications"}]})},116:function(t,e,n){var i,o,r,s,a,u;r=n(14),a=r.viewStream,u=r.views,s=r.server,i=n(65),o=n(61),t.exports={startStream:function(t){return function(t){var e,n;return e=t.commit,n={$sort:{sort:-1}},u.rx({matcher:function(t){return function(){return!0}}}),u.find(n).subscribe(function(t){var n,i;return t=o.sortBy(t,"sort"),n=t[0],i=t.filter(function(t){return"About"!==t.title}),i.length&&e("SET_VIEWS",i),e("SET_ABOUT",n)},function(t){return console.log(t)})}}(this),updateView:function(t,e){var n,i,o,r,s;return n=t.commit,s=t.state,o=e[0],i=e[1],r={},r[s.activeLanguage]={},r[s.activeLanguage].body=i,r[s.activeLanguage].title=o[s.activeLanguage].title,u.patch(null!=o?o._id:void 0,r).then(function(t){return console.log("success")}).catch(function(t){return console.log(t)})},createView:function(t,e){var n,i;return n=t.commit,i=t.state,u.create(e).then(function(t){return console.log("success")}).catch(function(t){return console.log(t)})},login:function(t,e){var n,i,o;return n=t.commit,i=e.email,o=e.password,s.authenticate({type:"local",email:i,password:o}).then(function(t){return console.log(t),n("SET_CURRENT_USER",t.data)}).catch(function(t){return console.log("fuck me",t)})},logout:function(t){var e;return e=t.commit,s.logout().then(function(){return e("SET_CURRENT_USER",{username:"stranger",email:""})}).catch(function(t){return console.log(t)})}}},117:function(t,e,n){var i;i=n(14).server,t.exports={init:function(t){return function(t){return i.authenticate().then(function(e){var n;return n=e.data,t.commit("SET_CURRENT_USER",n)}).catch(function(e){return t.commit("SET_CURRENT_USER",{username:"stranger",email:""})}),t.dispatch("startStream")}}(this)}},118:function(t,e,n){var i,o,r,s;i=n(97),o=n(117).init,s={views:[],about:{},languages:[{value:"english"},{value:"spanish"},{value:"italian"}],activeLanguage:"english",signin:!1,editMode:!1,currentUser:{}},r={SET_VIEWS:function(t,e){return t.views=e},SET_ABOUT:function(t,e){return t.about=e},SET_ACTIVE_LANGUAGE:function(t,e){return t.activeLanguage=e},SET_SIGNIN:function(t,e){return t.signin=e},SET_CURRENT_USER:function(t,e){return t.currentUser=e},SET_EDIT_MODE:function(t,e){return t.editMode=e}},t.exports=new i.Store({state:s,mutations:r,plugins:[o],actions:n(116),strict:!1})},128:function(t,e){},129:function(t,e){},130:function(t,e){},131:function(t,e){},132:function(t,e){},133:function(t,e){},134:function(t,e){},135:function(t,e){},136:function(t,e){},137:function(t,e){},454:function(t,e,n){var i,o;n(128),i=n(105);var r=n(463);o=i=i||{},"object"!=typeof i.default&&"function"!=typeof i.default||(o=i=i.default),"function"==typeof o&&(o=o.options),o.render=r.render,o.staticRenderFns=r.staticRenderFns,t.exports=i},455:function(t,e,n){var i,o;n(131),i=n(107);var r=n(466);o=i=i||{},"object"!=typeof i.default&&"function"!=typeof i.default||(o=i=i.default),"function"==typeof o&&(o=o.options),o.render=r.render,o.staticRenderFns=r.staticRenderFns,t.exports=i},456:function(t,e,n){var i,o;n(134),i=n(108);var r=n(469);o=i=i||{},"object"!=typeof i.default&&"function"!=typeof i.default||(o=i=i.default),"function"==typeof o&&(o=o.options),o.render=r.render,o.staticRenderFns=r.staticRenderFns,t.exports=i},457:function(t,e,n){var i,o;n(129),i=n(109);var r=n(464);o=i=i||{},"object"!=typeof i.default&&"function"!=typeof i.default||(o=i=i.default),"function"==typeof o&&(o=o.options),o.render=r.render,o.staticRenderFns=r.staticRenderFns,t.exports=i},458:function(t,e,n){var i,o;n(132),i=n(110);var r=n(467);o=i=i||{},"object"!=typeof i.default&&"function"!=typeof i.default||(o=i=i.default),"function"==typeof o&&(o=o.options),o.render=r.render,o.staticRenderFns=r.staticRenderFns,t.exports=i},459:function(t,e,n){var i,o;n(133),i=n(111);var r=n(468);o=i=i||{},"object"!=typeof i.default&&"function"!=typeof i.default||(o=i=i.default),"function"==typeof o&&(o=o.options),o.render=r.render,o.staticRenderFns=r.staticRenderFns,t.exports=i},460:function(t,e,n){var i,o;n(136),i=n(112);var r=n(471);o=i=i||{},"object"!=typeof i.default&&"function"!=typeof i.default||(o=i=i.default),"function"==typeof o&&(o=o.options),o.render=r.render,o.staticRenderFns=r.staticRenderFns,t.exports=i},461:function(t,e,n){var i,o;n(137),i=n(113);var r=n(472);o=i=i||{},"object"!=typeof i.default&&"function"!=typeof i.default||(o=i=i.default),"function"==typeof o&&(o=o.options),o.render=r.render,o.staticRenderFns=r.staticRenderFns,t.exports=i},462:function(t,e,n){var i,o;n(130),i=n(114);var r=n(465);o=i=i||{},"object"!=typeof i.default&&"function"!=typeof i.default||(o=i=i.default),"function"==typeof o&&(o=o.options),o.render=r.render,o.staticRenderFns=r.staticRenderFns,t.exports=i},463:function(module,exports){module.exports={render:function(){with(this)return _h("div",{attrs:{id:"app"}},[_h("info-panel")," ",_h("sign-up-panel")," ",_h("div",{attrs:{id:"signin-button"},on:{click:setSignin}})," ",signin?_h("div",[_h("signin-modal",[_h("signin-modal")])]):_e()])},staticRenderFns:[]}},464:function(module,exports){module.exports={render:function(){with(this)return _h("div",{attrs:{id:"map-rolly"}},["\n\n  title:",_h("input",{directives:[{name:"model",rawName:"v-model",value:title,expression:"title"}],domProps:{value:_s(title)},on:{input:function(t){t.target.composing||(title=t.target.value)}}}),"\n  sort:",_h("input",{directives:[{name:"model",rawName:"v-model",value:sort,expression:"sort"}],domProps:{value:_s(sort)},on:{input:function(t){t.target.composing||(sort=t.target.value)}}})," ",_h("button",{on:{click:setViews}},["set Views"])])},staticRenderFns:[]}},465:function(module,exports){module.exports={render:function(){with(this)return _h("div",{staticClass:"default-view",attrs:{id:"publications"}},[_h("editor-content",{attrs:{view:publicationView,"active-language":activeLanguage,"edit-mode":editMode}})])},staticRenderFns:[]}},466:function(module,exports){module.exports={render:function(){with(this)return _h("div",{attrs:{id:"header-panel"}},[_m(0)," ",_h("div",{attrs:{id:"languages"}},[_h("div",{staticClass:"language-button",class:{active:activeLanguage==languages[0].value},on:{click:function(t){changeActiveLang(languages[0].value)}}},["English"])," ",_h("div",{staticClass:"language-button",class:{active:activeLanguage==languages[1].value},on:{click:function(t){changeActiveLang(languages[1].value)}}},["EspaÃ±ol"])," ",_h("div",{staticClass:"language-button",class:{active:activeLanguage==languages[2].value},on:{click:function(t){changeActiveLang(languages[2].value)}}},["Italiano"])])," ",_h("div",{attrs:{id:"navigation"}},[_l(views,function(t){return _h("div",{staticClass:"nav-button",class:{active:buttonIsActive(t.title)},on:{click:function(e){changeCurrentView(t.title)}}},[_s(t.title)+".\n    "])})])])},staticRenderFns:[function(){with(this)return _h("div",{attrs:{id:"logo"}},["Lizzie Davis."])}]}},467:function(module,exports){module.exports={render:function(){with(this)return _h("div",{attrs:{id:"sign-up"}},[_h("div",{attrs:{id:"center-panel"}},[_m(0)," ",_h("editor-content",{attrs:{view:aboutView,"active-language":activeLanguage,"edit-mode":editMode}})])," ",_l(8,function(t){return _h("div",{staticClass:"back-pages"})})])},staticRenderFns:[function(){with(this)return _h("div",{staticClass:"title"},["About Lizzie Davis"])}]}},468:function(module,exports){module.exports={render:function(){with(this)return _h("div",{attrs:{id:"signin-modal"}},[_h("div",{staticClass:"close-btn",on:{click:close}},["x"])," ",_h("div",{staticClass:"title"},["Hi "+_s(userName)+"!"])," ",userExists?_e():_h("input",{directives:[{name:"model",rawName:"v-model",value:credentials.email,expression:"credentials.email"}],attrs:{placeholder:"email"},domProps:{value:_s(credentials.email)},on:{input:function(t){t.target.composing||(credentials.email=t.target.value)}}})," ",userExists?_e():_h("input",{directives:[{name:"model",rawName:"v-model",value:credentials.password,expression:"credentials.password"}],attrs:{placeholder:"password",type:"password"},domProps:{value:_s(credentials.password)},on:{input:function(t){t.target.composing||(credentials.password=t.target.value)}}})," ",userExists?_e():_h("div",{staticClass:"submit-btn",on:{click:login}},["Log in"])," ",userExists?_h("div",{staticClass:"submit-btn",on:{click:logout}},["Log out"]):_e()])},staticRenderFns:[]}},469:function(module,exports){module.exports={render:function(){with(this)return _h("div",{attrs:{id:"info-panel"}},[_h("header-panel")," ",_h("div",{attrs:{id:"title-slider"}},[_h("div",{style:{transform:rotateString},attrs:{id:"title-rotator"}},[_l(viewTitles,function(t){return _h("div",{staticClass:"title"},["\n        "+_s(t)+"\n        ",userExists?_h("span",{on:{click:toggleEditMode}},["turn edit "+_s(editMode?"off":"on")]):_e()])})])])," "," ",_h("transition",{attrs:{name:"fade",mode:"out-in"}},[_h("router-view",{staticClass:"view"})])," "," ",_h("div",{attrs:{id:"panel-controls"}},[_l(views,function(t){return _h("div",{staticClass:"panel-button",class:{active:buttonIsActive(t.title)},on:{click:function(e){changeCurrentView(t.title)}}})})])])},staticRenderFns:[]}},470:function(module,exports){module.exports={render:function(){with(this)return _h("div",{attrs:{id:"editor-content"}},[editMode?_h("textarea",{domProps:{value:body},on:{input:updateView}},[_s(body)+"\n  "]):_e()," ",editMode?_e():_h("div",{staticClass:"editor-view"},[_h("div",{domProps:{innerHTML:_s(interpretMarkdown)}})])])},staticRenderFns:[]}},471:function(module,exports){module.exports={render:function(){with(this)return _h("div",{staticClass:"default-view",attrs:{id:"publications"}},[_h("editor-content",{attrs:{view:contactView,"active-language":activeLanguage,"edit-mode":editMode}})])},staticRenderFns:[]}},472:function(module,exports){module.exports={render:function(){with(this)return _h("div",{staticClass:"default-view",attrs:{id:"publications"}},[_h("editor-content",{attrs:{view:cvView,"active-language":activeLanguage,"edit-mode":editMode}})])},staticRenderFns:[]}},478:function(t,e){}});
//# sourceMappingURL=app.29335ac10d3825639a61.js.map